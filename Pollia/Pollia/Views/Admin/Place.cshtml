@{
    ViewBag.Title = "Place";
    Layout = "~/Views/Shared/_Admin.cshtml";
}

<link href="~/Scripts/datatable/datatables.min.css" rel="stylesheet" />
<!-- Container-fluid starts -->
<div class="container-fluid">
    <!-- Row Starts -->
    <div class="row">
        <div class="col-sm-12 p-0">
            <div class="main-header" style="margin-top: 0px;">
                <h4>Place Table</h4>
                <ol class="breadcrumb breadcrumb-title breadcrumb-arrow">
                    <li class="breadcrumb-item">
                        <a href="#">
                            <i class="icofont icofont-home"></i>
                        </a>
                    </li>
                    <li class="breadcrumb-item"><a href="#">Tables</a></li>
                    <li class="breadcrumb-item"><a href="data-table.html">Place Table</a></li>
                </ol>
            </div>
        </div>
    </div>
    <!-- Row end -->
    <div class="row">
        <div class="col-sm-12">
            <div class="card">
                <div class="card-block">
                    <table id="placeTable" class="display" style="width:100%">
                        <thead>
                            <tr>
                                <th>Name</th>
                                <th>Description</th>
                                <th>Longitude</th>
                                <th>Latitude</th>
                            </tr>
                        </thead>
                        <tfoot>
                            <tr>
                                <th>Name</th>
                                <th>Description</th>
                                <th>Longitude</th>
                                <th>Latitude</th>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </div>
        </div>
    </div>

</div>
<!-- Container-fluid ends -->

@section scripts {
    <script src="~/Scripts/datatable/datatables.min.js"></script>
    <script>
        $(document).ready(function () {
            $.ajax({
                dataType: "json",
                url: "@Url.Action("Get10Places", "api/Place")",
                success: function (data) {
                    var datatableVariable = $('#placeTable').DataTable({
                        data: data,
                        columns: [
                            { data: 'Name' },
                            { data: 'Description' },
                            { data: 'Longitude' },
                            { data: 'Latitude' }
                        ]
                    });
                    //$('#studentTable tfoot th').each(function () {
                    //    var placeHolderTitle = $('#studentTable thead th').eq($(this).index()).text();
                    //    $(this).html('<input type="text" class="form-control input input-sm" placeholder = "Search ' + placeHolderTitle + '" />');
                    //});
                    //datatableVariable.columns().every(function () {
                    //    var column = this;
                    //    $(this.footer()).find('input').on('keyup change', function () {
                    //        column.search(this.value).draw();
                    //    });
                    //});
                    //$('.showHide').on('click', function () {
                    //    var tableColumn = datatableVariable.column($(this).attr('data-columnindex'));
                    //    tableColumn.visible(!tableColumn.visible());
                    //});
                }
            });

        });

    </script>

}


